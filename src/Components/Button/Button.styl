@import "../src/_theme.styl"

.button
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.3s
  position: relative;
  overflow: hidden;
  z-index: 1;
  width 100%


  &--primary
    background-color: var(--button-primary-bg);
    color: var(--button-primary-color);

  &--secondary
    background-color: var(--button-secondary-bg);
    color: var(--button-secondary-color);


  &--size-28
    padding: 6px 10px;
    font-size: 13px;


  &--size-36
    padding: 8px 12px;
    font-size: 15px;

  &--size-56
    padding: 16px 16px;
    font-size: 17px;

  &--pressed
    transform scale(0.95)
    ransition: transform 0.5s cubic-bezier(0, -0.3, 0.5, 1.3)

  &:before
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 0;
    height: 100%;
    border-radius: 16px;
    background-color: rgba(255, 255, 255, 0.12);
    opacity: 0;
    transition: all 0.5s;
    pointer-events: none;
    z-index: -1;

  &:hover:before
      opacity: 1
      width: 100%;

  &:hover
    .button--content
      transform: scale(1.05)


  &:active
    transform: scale(0.95);
    .button--content
      transform: scale(0.95)
      transition: transform 0.5s cubic-bezier(0, -0.3, 0.5, 1.3)

    /* Наложение нажатия */
    &:after
      content: ''
      position: absolute
      top: 0
      left: 0
      width: 100%
      height: 100%
      background-color: rgba(255, 255, 255, 0.2)
      transform: scale(0)
      transform-origin: center
      opacity: 1
      pointer-events: none
      transition: transform 0.5s cubic-bezier(0, -0.3, 0.5, 1.3), opacity 0.3s ease

  &:active:after
    transform: scale(10)
    opacity: 1



  &:disabled
    pointer-events: none;
    opacity: 0.36;



.button--focused
  outline: 2px solid blue;

.button:focus-visible
  outline: 2px solid blue;



.button--content
  display: flex;
  align-items: center;
  justify-content: center;
  max-width 100%
  transition: transform 0.5s cubic-bezier(0, -0.3, 0.5, 1.3);
  animation: fade-up 0.5s ease-out forwards;

.button--size-28 .button--content
  gap: 4px;

.button--size-36 .button--content
  gap: 6px;

.button--size-56 .button--content
  gap 8px



@keyframes shimmer-move
  0%
    transform: translateX(-100%);
  100%
    transform: translateX(200%);

@keyframes fade-up
  0%
    opacity: 0;
  100%
    opacity: 1;

@keyframes fade-out
  0%
    opacity: 1;
  100%
    opacity: 0;

.button--loader
  position: absolute;
  opacity: 0;
  animation: fade-up 0.5s ease-out forwards;

.button--loading
  position: relative;
  pointer-events: none;

  .button--content
      animation: fade-out 0.5s forwards;

  .button--shimmer
    position: absolute;
    top: 0;
    left: 0;
    width: 33%;
    height: 100%;
    background: rgba(255, 255, 255, 0.05);
    animation: shimmer-move 1000ms linear infinite;
    animation-timing-function: linear;


.button--label
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width 100%
